<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P√°gina Principal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="estilo.css">
</head>

<body>
    <div class="top-left-search">
        <img src="imagenes/lupita.PNG" alt="Buscar" class="icono-lupa" id="search-toggle" role="button"
            aria-label="Abrir b√∫squeda">
        <input type="search" id="search-input" class="form-control search-input d-none"
            placeholder="Buscar productos..." aria-label="Buscar productos">
        <span id="search-label">Buscar producto</span>
    </div>
    <div class="top-right-login">
        <span>Ingresar</span>
        <a href="#" id="cart-button" class="cart-button position-relative ms-3" data-bs-toggle="modal"
            data-bs-target="#cartModal" aria-label="Abrir carrito">
            <img src="imagenes/carrito.PNG" alt="Carrito" class="cart-icon">
            <span id="cart-count" class="badge bg-danger cart-count d-none">0</span>
        </a>
    </div>
    <div class="container d-flex flex-column align-items-center mt-5">
        <img src="imagenes/logo.png" alt="Logo" class="logo mb-2">
        <nav class="nav mb-4" style="margin-top: -10px;">
            <a href="main.html">Inicio</a>
            <a href="Productos.html">Productos</a>
            <a href="Contacto.html">Contacto</a>
        </nav>
        <div id="productosContainer" class="row justify-content-start mb-4" style="margin-left:220px;">
        </div>
    </div>
    <div class="categorias-lateral">
        <h4>CATEGORIAS</h4>
        <ul class="list-unstyled">
            <li><a href="#" class="categoria-link" data-categoria="panaderia">Panader√≠a</a></li>
            <li><a href="#" class="categoria-link" data-categoria="pasteleria">Pasteler√≠a</a></li>
            <li><a href="#" class="categoria-link" data-categoria="confiteria">Confiter√≠a</a></li>
            <li><a href="#" class="categoria-link" data-categoria="todas">Todas</a></li>
        </ul>
    </div>
    </div>
    <div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Tu carrito</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <div id="cart-items"></div>
                    <div class="mt-3 text-end">
                        <strong>Total: <span id="cart-total">$0</span></strong>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="checkout-btn" class="btn btn-primary">Finalizar compra</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <!-- script para la busqueda -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const toggle = document.getElementById('search-toggle');
            const input = document.getElementById('search-input');
            const label = document.getElementById('search-label');

            if (toggle && input && label) {
                toggle.addEventListener('click', () => {
                    input.classList.toggle('d-none');
                    const visible = !input.classList.contains('d-none');
                    label.style.display = visible ? 'none' : '';
                    if (visible) {
                        input.focus();
                        input.select();
                    } else {
                        input.value = '';
                        input.dispatchEvent(new Event('input'));
                    }
                });
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        input.classList.add('d-none');
                        label.style.display = '';
                        input.value = '';
                        input.dispatchEvent(new Event('input'));
                    }
                });
                input.addEventListener('input', function () {
                    const q = this.value.trim().toLowerCase();
                    document.querySelectorAll('.row.justify-content-start .col-6, .row.justify-content-start .col-md-3').forEach(col => {
                        const card = col.querySelector('.card');
                        if (!card) return;
                        const title = (card.querySelector('.card-title')?.textContent || '').toLowerCase();
                        const price = (card.querySelector('.card-text')?.textContent || '').toLowerCase();
                        const matches = q === '' || title.includes(q) || price.includes(q);
                        col.style.display = matches ? '' : 'none';
                    });
                });
            }
        });
    </script>
    <!-- script para agregar botones "Agregar" a cada tarjeta de producto -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.card').forEach(function (card, idx) {
                const body = card.querySelector('.card-body');
                if (!body) return;
                if (body.querySelector('.btn-add')) return;
                const titleEl = body.querySelector('.card-title');
                const priceEl = body.querySelector('.card-text');
                const imgEl = card.querySelector('.card-img-top');
                const name = titleEl ? titleEl.textContent.trim() : ('producto-' + idx);
                let price = 0;
                if (priceEl) {
                    const txt = priceEl.textContent.replace(/[^\d.,]/g, '').replace(',', '');
                    price = Number(txt) || 0;
                }
                const btn = document.createElement('button');
                btn.type = 'button';
                btn.className = 'btn btn-sm btn-outline-dark btn-add mt-2';
                btn.textContent = 'Agregar';
                btn.dataset.id = name.replace(/\s+/g, '-').toLowerCase() + '-' + idx;
                btn.dataset.name = name;
                btn.dataset.price = price;
                btn.dataset.img = imgEl ? imgEl.getAttribute('src') : '';
                body.appendChild(btn);
            });
        });
    </script>
    <script src="carrito.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
    <script src="productos.js"></script>
    <footer class="footer mt-auto py-5" style="background-color: #f0f0f0; color: #36373a; font-size: 1.1em; border-top: 2px solid #e0e0e0;">
    <div class="container">
        <div class="row">
            <!-- Informaci√≥n de contacto y redes -->
            <div class="col-md-4 mb-4 mb-md-0">
                <h5 class="fw-bold mb-3">Panader√≠a Pan y Agua</h5>
                <p>üìç Maip√∫, Mendoza, Argentina</p>
                <p>üìû +54 9 261 555-5555</p>
                <p>üìß info@panaderia.com</p>
                <div class="d-flex mt-3 footer-redes">
                    <!-- iconos ficticios -->
                    <a href="#" target="_blank" class="text-decoration-none me-3" title="Instagram">
                        <img src="https://placehold.co/24x24/36373a/ffffff?text=IG" alt="Instagram" class="rounded-circle">
                    </a>
                    <a href="#" target="_blank" class="text-decoration-none me-3" title="Facebook">
                        <img src="https://placehold.co/24x24/36373a/ffffff?text=FB" alt="Facebook" class="rounded-circle">
                    </a>
                    <a href="#" target="_blank" class="text-decoration-none" title="Twitter/X">
                        <img src="https://placehold.co/24x24/36373a/ffffff?text=X" alt="Twitter" class="rounded-circle">
                    </a>
                </div>
            </div>
            <!-- Mapa del sitio  -->
            <div class="col-md-4 mb-4 mb-md-0">
                <h5 class="fw-bold mb-3">Navegaci√≥n</h5>
                <ul class="list-unstyled">
                    <li><a href="main.html" class="text-decoration-none text-reset">Inicio</a></li>
                    <li><a href="Productos.html" class="text-decoration-none text-reset">Cat√°logo</a></li>
                    <li><a href="contacto.html" class="text-decoration-none text-reset">Encargos y contacto</a></li>
                    <li><a href="#" onclick="openCart(); return false;" class="text-decoration-none text-reset">Ver Carrito</a></li>
                </ul>
            </div>

            <!-- informaci√≥n legal -->
            <div class="col-md-4">
                <h5 class="fw-bold mb-3">Informaci√≥n legal</h5>
                <ul class="list-unstyled">
                    <li><a href="#" class="text-decoration-none text-reset" title="T√©rminos y Condiciones">T√©rminos y condiciones</a></li>
                    <li><a href="#" class="text-decoration-none text-reset" title="Pol√≠tica de Privacidad">Pol√≠tica de privacidad</a></li>
                    <li><a href="#" class="text-decoration-none text-reset" title="Preguntas Frecuentes">Preguntas frecuentes</a></li>
                </ul>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-12 text-center">
                <p class="mb-0 text-muted" style="font-size: 0.9em;">¬© 2025 Panader√≠a Pan y Agua. Todos los derechos reservados.</p>
            </div>
        </div>
    </div>
</footer>
</body>
